{"version":3,"sources":["components/spotify.js","components/Login.js","components/sidebar/SidebarOption.js","components/StateProvider.js","components/sidebar/Sidebar.js","components/body/Header.js","components/body/SongRow.js","components/body/Body.js","components/footer/Footer.js","components/Player.js","App.js","reportWebVitals.js","components/reducer.js","index.js"],"names":["loginUrl","join","Login","className","src","alt","href","SidebarOption","title","Icon","StateContext","createContext","StateProvider","initialState","reducer","children","Provider","value","useReducer","useStateProviderValue","useContext","Sidebar","playlists","HomeIcon","SearchIcon","LibraryMusicIcon","items","map","playlist","name","Header","spotify","user","placeholder","type","Avatar","images","url","display_name","SongRow","playSong","track","onClick","id","album","artists","artist","Body","discover_weekly","dispatch","play","uris","then","res","getMyCurrentPlayingTrack","r","item","playing","description","context_uri","fontSize","tracks","Footer","token","useEffect","getMyCurrentPlaybackState","console","log","is_playing","handlePlayPause","pause","skipToNext","skipToPrevious","Grid","container","spacing","xs","Slider","Player","SpotifyWebApi","App","hash","window","location","substring","split","reduce","initial","parts","decodeURIComponent","_token","access_token","setAccessToken","getMe","getUserPlaylists","getPlaylist","getMyTopArtists","top_artists","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","state","action","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.21d594c4.chunk.js","sourcesContent":["// https://developer.spotify.com/documentation/web-playback-sdk/quick-start/#\r\n\r\nexport const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\nconst redirectUri = \"http://RohanDeySarkar.github.io/spotify-clone/\";\r\nconst clientId = \"91bc6353ad864f599c028135c15db443\";\r\n\r\nconst scopes = [\r\n    \"user-read-currently-playing\",\r\n    \"user-read-recently-played\",\r\n    \"user-read-playback-state\",\r\n    \"user-top-read\",\r\n    \"user-modify-playback-state\",\r\n];\r\n\r\n// get the access token from this url\r\n// http://localhost:3000/#access_token=BQDr-fRRDxvBaL0VnJIBv9EWZt5o8E70MVGBHoKgalmgizxVowFGUIW8jXoMdwo4TRc0SVXSjHsvNOdN04kLY6NQ4fwTIe_79w735jCAnx0JymdZgcczr0gO6jHp6QSODZydLwxW-hS5YQCtmqPansnGOV7y9Z_3apQIfPPkoCcFpxB1_Wpj&token_type=Bearer&expires_in=3600\r\nexport const getTokenFromUrl = () => {\r\n    return window.location.hash\r\n        .substring(1)\r\n        .split('&')\r\n        .reduce((initial, item) => {\r\n            let parts = item.split('=')\r\n            initial[parts[0]] = decodeURIComponent(parts[1]);\r\n\r\n            return initial;\r\n        }, {});\r\n}\r\n\r\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\"%20\")}&response_type=token&show_dialog=true`;\r\n","import React from 'react'\r\nimport './Login.css';\r\n\r\nimport {loginUrl} from './spotify';\r\n\r\nfunction Login() {\r\n    return (\r\n        <div className=\"login\">\r\n            <img\r\n                src=\"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\"\r\n                alt=\"\"\r\n            />\r\n            <a href={loginUrl}>login with spotify</a>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React from 'react';\r\nimport './SidebarOption.css';\r\n\r\nfunction SidebarOption({title, Icon}) {\r\n    return (\r\n        <div className=\"sidebarOption\">\r\n            {Icon && <Icon className=\"sidebarOption__icon\" />}\r\n            {Icon ? <h4>{title}</h4> : <p>{title}</p>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SidebarOption\r\n","import React, {createContext, useContext, useReducer} from \"react\";\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({initialState, reducer, children}) => (\r\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n        {children}\r\n    </StateContext.Provider>\r\n);\r\n\r\nexport const useStateProviderValue = () => useContext(StateContext);","import React from 'react';\r\nimport \"./Sidebar.css\";\r\nimport SidebarOption from './SidebarOption';\r\nimport {useStateProviderValue} from '../StateProvider';\r\n\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport LibraryMusicIcon from \"@material-ui/icons/LibraryMusic\";\r\n\r\nfunction Sidebar() {\r\n\r\n    const [{playlists}, dispatch] = useStateProviderValue();\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <img\r\n                className=\"sidebar__logo\"\r\n                src=\"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\"\r\n                alt=\"\"\r\n            />\r\n            <SidebarOption Icon={HomeIcon} title=\"Home\"/>\r\n            <SidebarOption Icon={SearchIcon} title=\"Search\"/>\r\n            <SidebarOption Icon={LibraryMusicIcon} title=\"Your Library\"/>\r\n\r\n            <br />\r\n            <strong className=\"sidebar__title\">PLAYLISTS</strong>\r\n            <hr />\r\n\r\n            {playlists?.items?.map(playlist => (\r\n                 <SidebarOption title={playlist.name} />\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import React from 'react';\r\nimport './Header.css';\r\n\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { Avatar } from \"@material-ui/core\";\r\n\r\nimport {useStateProviderValue} from '../StateProvider';\r\n\r\nfunction Header({spotify}) {\r\n\r\n    const [{user}, dispatch] = useStateProviderValue();\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <div className=\"header__left\">\r\n                <SearchIcon />\r\n                <input\r\n                    placeholder=\"Search for Artists, Songs, or Podcasts\"\r\n                    type=\"text\"\r\n                />\r\n            </div>\r\n            <div className=\"header__right\">\r\n                <Avatar src={user?.images[0].url} alt={user?.display_name} />\r\n                <h4>{user?.display_name}</h4>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react';\r\nimport './SongRow.css';\r\n\r\nfunction SongRow({playSong, track}) {\r\n\r\n    // console.log(track)\r\n\r\n    return (\r\n        <div className=\"songRow\" onClick={() => playSong(track.id)}>\r\n            <img\r\n                className=\"songRow__album\"\r\n                src={track.album.images[0].url}\r\n                alt=\"\"\r\n            />\r\n            <div className=\"songRow__info\">\r\n                <h1>{track.name}</h1>\r\n                <p>\r\n                    {track.artists.map((artist) => artist.name).join(\", \")}\r\n                    {track.album.name}\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SongRow\r\n","import React from 'react';\r\nimport \"./Body.css\";\r\n\r\nimport Header from './Header';\r\nimport {useStateProviderValue} from '../StateProvider';\r\nimport SongRow from './SongRow';\r\n\r\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\n\r\nfunction Body({spotify}) {\r\n\r\n    const [{discover_weekly}, dispatch] = useStateProviderValue();\r\n\r\n    const playPlaylist = (id) => {\r\n        spotify.play({\r\n                context_uri: `spotify:playlist:37i9dQZEVXcCoq2SWvwjY6`,\r\n            })\r\n            .then((res) => {\r\n                spotify.getMyCurrentPlayingTrack()\r\n                    .then((r) => {\r\n                        dispatch({\r\n                            type: \"SET_ITEM\",\r\n                            item: r.item\r\n                        });\r\n                        dispatch({\r\n                            type: \"SET_PLAYING\",\r\n                            playing: true\r\n                        });\r\n                    })\r\n        });\r\n    };\r\n\r\n    const playSong = (id) => {\r\n        spotify.play({\r\n                uris: [`spotify:track:${id}`],\r\n            })\r\n            .then((res) => {\r\n                spotify.getMyCurrentPlayingTrack()\r\n                    .then((r) => {\r\n                        dispatch({\r\n                            type: \"SET_ITEM\",\r\n                            item: r.item,\r\n                        });\r\n                        dispatch({\r\n                            type: \"SET_PLAYING\",\r\n                            playing: true,\r\n                        });\r\n                    });\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"body\">\r\n            <Header spotify={spotify} />\r\n\r\n            <div className=\"body__info\">\r\n                <img \r\n                    src={discover_weekly?.images[0].url}\r\n                    alt=\"\" \r\n                />\r\n                <div className=\"body__infoText\">\r\n                    <strong>PLAYLIST</strong>\r\n                    <h2>Discover Weekly</h2>\r\n                    <p>{discover_weekly?.description}</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"body__songs\">\r\n                <div className=\"body__icons\">\r\n                    <PlayCircleFilledIcon\r\n                        className=\"body__shuffle\"\r\n                        onClick={playPlaylist}\r\n                    />\r\n                    <FavoriteIcon fontSize=\"large\" />\r\n                    <MoreHorizIcon />\r\n                </div>\r\n\r\n                {discover_weekly?.tracks.items.map(item => (\r\n                    <SongRow playSong={playSong} track={item.track} />\r\n                ))}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Body;\r\n","import React, { useEffect } from 'react';\r\nimport \"./Footer.css\";\r\n\r\nimport {useStateProviderValue} from '../StateProvider';\r\n\r\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\r\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\r\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\r\nimport ShuffleIcon from \"@material-ui/icons/Shuffle\";\r\nimport RepeatIcon from \"@material-ui/icons/Repeat\";\r\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\r\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\r\nimport PlaylistPlayIcon from \"@material-ui/icons/PlaylistPlay\";\r\nimport { Grid, Slider } from \"@material-ui/core\";\r\n\r\n\r\nfunction Footer({spotify}) {\r\n\r\n    const [{token, item, playing}, dispatch] = useStateProviderValue();\r\n    \r\n    useEffect(() => {\r\n        spotify.getMyCurrentPlaybackState().then((r) => {\r\n          console.log(r);\r\n    \r\n          dispatch({\r\n            type: \"SET_PLAYING\",\r\n            playing: r.is_playing,\r\n          });\r\n    \r\n          dispatch({\r\n            type: \"SET_ITEM\",\r\n            item: r.item,\r\n          });\r\n        });\r\n    }, [spotify]);\r\n    \r\n    const handlePlayPause = () => {\r\n        if (playing) {\r\n            spotify.pause();\r\n            dispatch({\r\n                type: \"SET_PLAYING\",\r\n                playing: false,\r\n            });\r\n        } else {\r\n            spotify.play();\r\n            dispatch({\r\n                type: \"SET_PLAYING\",\r\n                playing: true,\r\n            });\r\n        }\r\n    };\r\n    \r\n    const skipNext = () => {\r\n        spotify.skipToNext();\r\n        spotify.getMyCurrentPlayingTrack().then((r) => {\r\n            dispatch({\r\n                type: \"SET_ITEM\",\r\n                item: r.item,\r\n            });\r\n            dispatch({\r\n                type: \"SET_PLAYING\",\r\n                playing: true,\r\n            });\r\n        });\r\n    };\r\n\r\n    const skipPrevious = () => {\r\n        spotify.skipToPrevious();\r\n        spotify.getMyCurrentPlayingTrack().then((r) => {\r\n          dispatch({\r\n            type: \"SET_ITEM\",\r\n            item: r.item,\r\n          });\r\n          dispatch({\r\n            type: \"SET_PLAYING\",\r\n            playing: true,\r\n          });\r\n        });\r\n    };\r\n\r\n    console.log(item);\r\n\r\n    return (\r\n        <div className=\"footer\">\r\n            <div className=\"footer__left\">\r\n                {/* not premiuim account so passing images */}\r\n                <img\r\n                    className=\"footer__albumLogo\"\r\n                    // src={item?.album.images[0].url}\r\n                    src=\"https://i.scdn.co/image/ab67616d0000b273107d182a8d39586f8f3f23a0\"\r\n                    alt={item?.name}\r\n                />\r\n                {item ? (\r\n                    <div className=\"footer__songInfo\">\r\n                        <h4>{item.name}</h4>\r\n                        <p>{item.artists.map((artist) => artist.name).join(\", \")}</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"footer__songInfo\">\r\n                        <h4>Black Ice</h4>\r\n                        <p>AC/DC</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"footer__center\">\r\n                <ShuffleIcon className=\"footer__green\" />\r\n                <SkipPreviousIcon onClick={skipNext} className=\"footer__icon\" />\r\n                {playing ? (\r\n                    <PauseCircleOutlineIcon \r\n                        onClick={handlePlayPause}\r\n                        fontSize=\"large\" \r\n                        className=\"footer__icon\" \r\n                    />\r\n                ) : (\r\n                    <PlayCircleOutlineIcon\r\n                        onClick={handlePlayPause}\r\n                        fontSize=\"large\"\r\n                        className=\"footer__icon\"\r\n                    />\r\n                )}\r\n                \r\n                <SkipNextIcon onClick={skipPrevious} className=\"footer__icon\" />\r\n                <RepeatIcon className=\"footer__green\" />\r\n            </div>\r\n\r\n            <div className=\"footer__right\">\r\n                <Grid container spacing={2}>\r\n                    <Grid item>\r\n                        <PlaylistPlayIcon />\r\n                    </Grid>\r\n                    <Grid item>\r\n                        <VolumeDownIcon />\r\n                    </Grid>\r\n                    <Grid item xs>\r\n                        <Slider />\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react';\r\nimport './Player.css';\r\n\r\nimport Sidebar from './sidebar/Sidebar';\r\nimport Body from './body/Body';\r\nimport Footer from './footer/Footer';\r\n\r\nfunction Player({spotify}) {\r\n    return (\r\n        <div className=\"player\">\r\n            <div className=\"player__body\">\r\n                <Sidebar />\r\n                <Body spotify={spotify} />\r\n            </div>\r\n            <Footer spotify={spotify} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Player\r\n","import React, { useEffect, useState } from \"react\";\nimport './App.css';\n\nimport SpotifyWebApi from \"spotify-web-api-js\";\n\nimport Login from './components/Login';\nimport Player from \"./components/Player\";\nimport {getTokenFromUrl} from './components/spotify';\n\nimport {useStateProviderValue} from './components/StateProvider';\n\nconst spotify = new SpotifyWebApi();\n\nfunction App() {\n\n  const [{user, token}, dispatch] = useStateProviderValue();\n\n  useEffect(() => {\n    const hash = getTokenFromUrl();\n\n    // after getting the token from url, clear the token from url for security purpose\n    window.location.hash = \"\";\n\n    const _token = hash.access_token;\n\n    if (_token) {\n\n      dispatch({\n        type: \"SET_TOKEN\",\n        token: _token\n      });\n\n      spotify.setAccessToken(_token);\n\n      spotify.getMe()\n        .then((user) => {\n          // console.log(user);\n          dispatch({\n            type: 'SET_USER',\n            user: user\n          })\n      });\n\n      spotify.getUserPlaylists()\n        .then((playlists) => {\n          // console.log(playlists)\n          dispatch({\n            type: \"SET_PLAYLISTS\",\n            playlists: playlists\n          })\n      });\n\n      // my discover weekly from ..../playlist/37i9dQZEVXcCoq2SWvwjY6\n      spotify.getPlaylist('37i9dQZEVXcCoq2SWvwjY6')\n        .then((res) => {\n          dispatch({\n              type: \"SET_DISCOVER_WEEKLY\",\n              discover_weekly: res\n          })\n      });\n\n      spotify.getMyTopArtists()\n        .then((res) => {\n          dispatch({\n            type: \"SET_TOP_ARTISTS\",\n            top_artists: res\n          })\n      });\n\n      dispatch({\n        type: \"SET_SPOTIFY\",\n        spotify: spotify\n      });\n\n    }\n\n    // console.log(\"Token ----->\", hash);\n  }, [token, dispatch]);\n\n  // console.log(\"User\", user);\n  // console.log(\"Token---->\", token);\n\n  return (\n    <div className=\"app\">\n      {\n        token ? (\n          <Player \n            spotify={spotify}\n          />\n        ) : (\n          <Login />\n        )\n      }\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export const initialState = {\r\n    user: null,\r\n    playlists: [],\r\n    playing: false,\r\n    item: null,\r\n    discover_weekly: null,\r\n    spotify: null,\r\n    top_artists: null,\r\n    // remove after developing\r\n    // token: \"under_development\"\r\n    token: null\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    // console.log(action);\r\n\r\n    switch(action.type) {\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            };\r\n\r\n        case 'SET_TOKEN':\r\n            return {\r\n                ...state,\r\n                token: action.token\r\n            };\r\n\r\n        case 'SET_PLAYLISTS':\r\n            return {\r\n                ...state,\r\n                playlists: action.playlists\r\n            };\r\n\r\n        case 'SET_DISCOVER_WEEKLY':\r\n            return {\r\n                ...state,\r\n                discover_weekly: action.discover_weekly\r\n            };\r\n\r\n        case \"SET_ITEM\":\r\n            return {\r\n                ...state,\r\n                item: action.item,\r\n            };\r\n\r\n        case \"SET_PLAYING\":\r\n            return {\r\n                ...state,\r\n                playing: action.playing,\r\n            };\r\n\r\n        case \"SET_TOP_ARTISTS\":\r\n            return {\r\n                ...state,\r\n                top_artists: action.top_artists,\r\n            };\r\n\r\n        case \"SET_SPOTIFY\":\r\n            return {\r\n                ...state,\r\n                spotify: action.spotify,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport {StateProvider} from './components/StateProvider';\nimport reducer, {initialState} from './components/reducer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider \n      initialState={initialState} \n      reducer={reducer}\n    >\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}